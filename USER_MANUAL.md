# OpenClaw FundCoach 使用手册

## 📖 目录
1. [简介](#简介)
2. [快速开始](#快速开始)
3. [自动模式](#自动模式)
4. [手动模式](#手动模式)
5. [数据管理](#数据管理)
6. [风险提示](#风险提示)
7. [技术架构](#技术架构)

## 简介

OpenClaw FundCoach 是一个中国公募基金量化组合研究与模拟智能体，旨在帮助投资者进行数据驱动的基金投资决策。

### 核心功能
- **基金数据抓取**: 支持天天基金等公开数据源
- **因子分析**: 6维度因子模型（价值、成长、动量、质量、波动率、一致性）
- **组合优化**: 多策略组合生成和权重优化
- **风险控制**: 压力测试和风险暴露分析
- **自进化**: 自动迭代优化策略

## 快速开始

### 1. 启动应用
```bash
# 开发模式
./start.sh dev

# 生产模式  
./start.sh
```

### 2. 访问界面
- 开发模式: `http://localhost:3000`
- 生产模式: `http://localhost:5000`

### 3. 选择模式
- **自动模式**: 系统自动选择最优基金组合
- **手动模式**: 用户指定基金代码进行分析

## 自动模式

自动模式下，系统会执行以下步骤：

### 1. 数据获取
- 从数据缓存中加载基金数据
- 当前可用基金数量: **150+只**
- 数据更新频率: 实时

### 2. 因子建模
系统计算6个核心因子：
- **价值因子**: 基于基金规模、成立时间等基本面指标
- **成长因子**: 基于多时间周期的历史净值增长趋势  
- **动量因子**: 基于短期和中期动量表现
- **质量因子**: 基于风险调整收益指标
- **波动率因子**: 基于历史波动性分析
- **一致性因子**: 基于收益稳定性和胜率

### 3. 基金打分
使用5维度评分系统：
- 风险调整后收益 (30%)
- 收益一致性 (20%) 
- 回撤控制 (20%)
- 成长质量 (15%)
- 基金稳定性 (15%)

### 4. 组合生成
支持多种组合策略：
- **Top-N策略**: 选择评分最高的N只基金
- **分层策略**: 按风格分类分层配置
- **分散化策略**: 控制行业和风格集中度
- **风险预算策略**: 基于风险贡献分配权重

### 5. 权重优化
提供多种优化算法：
- **风险平价**: 平衡各资产的风险贡献
- **均值-方差**: 考虑预期收益和风险
- **Black-Litterman**: 结合市场观点和先验信息
- **多目标优化**: 综合考虑收益、风险、分散度

### 6. 风险分析
全面的风险评估：
- **压力测试**: 6个历史极端事件场景
- **风险暴露**: 因子、行业、风格集中度分析
- **相关性风险**: 资产间相关性评估
- **流动性风险**: 基于基金规模的流动性评估

## 手动模式

手动模式允许用户指定具体的基金代码进行分析。

### 1. 输入基金代码
- 支持单只或多只基金
- 基金代码格式: 6位数字 (如: 000001)

### 2. 组合构建
- 等权重分配或自定义权重
- 支持实时调整

### 3. 历史回测
- 至少3年历史数据
- 覆盖完整牛熊周期
- 输出关键绩效指标

## 数据管理

### 数据缓存
- **缓存目录**: `data_cache/`
- **当前基金数**: 150+只
- **数据格式**: CSV文件
- **自动扩展**: 系统持续扩展数据量

### 数据更新
- **自动模式**: 7×24小时连续工作
- **手动更新**: 通过API触发
- **数据源**: 天天基金等公开数据源

### 数据质量
- **真实数据**: 优先使用真实基金数据
- **模拟数据**: 当真实数据不可用时生成高质量模拟数据
- **数据验证**: 自动验证数据质量和完整性

## 风险提示

⚠️ **重要风险提示**:

1. **历史数据仅供参考，不构成投资建议**
2. **投资有风险，入市需谨慎**
3. **过往业绩不代表未来表现**
4. **最大回撤可能超过预期**
5. **系统仅做研究与模拟，不执行实际交易**

### 风险等级说明
- **低风险**: 最大回撤 < -15%
- **中风险**: 最大回撤 -15% ~ -25%  
- **高风险**: 最大回撤 > -25%

## 技术架构

### 系统架构
```
OpenClaw FundCoach
├── Data Agent          # 数据抓取和缓存
├── Strategy Agent      # 因子建模和基金打分
├── Portfolio Agent     # 组合生成和权重优化
├── Risk Agent          # 风险分析和压力测试
├── UI Agent            # 用户界面和可视化
└── DevOps Agent        # 自动化和自进化
```

### 技术栈
- **后端**: Python + Flask
- **前端**: Vue3 + Tailwind CSS
- **数据处理**: Pandas + NumPy + SciPy
- **机器学习**: Scikit-learn
- **部署**: Docker + Nginx

### API接口
- **GET /api/health**: 健康检查
- **POST /api/analyze**: 组合分析
- **GET /api/funds/{code}**: 基金详情

---
*版本: 1.0.0 | 最后更新: 2026-02-28*
*© 2026 OpenClaw FundCoach - 量化基金研究智能体*